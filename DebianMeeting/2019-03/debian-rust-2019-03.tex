\documentclass[cjk,dvipdfmx,10pt,compress,fragile%
hyperref={bookmarks=true,bookmarksnumbered=true,bookmarksopen=false,%
colorlinks=false,%
pdftitle={ç¬¬ 134 å› é–¢è¥¿ Debian å‹‰å¼·ä¼š},%
pdfauthor={å°æ—},%
%pdfinstitute={é–¢è¥¿ Debian å‹‰å¼·ä¼š},%
pdfsubject={è³‡æ–™},%
}]{beamer}

\title{Rustã§æ›¸ã„ãŸãƒ„ãƒ¼ãƒ«ã®debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã«\\æŒ‘æˆ¦ã—ã¦ã¿ãŸè©±(ä»®)}
\author[Katsuki Kobayashi]{{\large\bf Katsuki Kobayashi}}
\institute[Debian JP]{{\normalsize\tt é–¢è¥¿ Debian å‹‰å¼·ä¼š}}
\date{{\small 2019å¹´ 3æœˆ 24æ—¥ (æ—¥)}}

\usepackage{graphicx}
\usepackage{moreverb}
\usepackage{ulem}
\usepackage[varg]{txfonts}
\usepackage{tabularx}
\usepackage{fancybox}
\usepackage{fancyvrb}
\usepackage{float}
\usepackage{multicol}
\usepackage{minijs}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{newtxtext}
\usepackage{listings, listings-rust}
\usepackage{xcolor}
\usepackage{hyperref}
\AtBeginDvi{\special{pdf:tounicode EUC-UCS2}}
\usetheme{KansaiDebian}
\def\museincludegraphics{%
  \begingroup
  \catcode`\|=0
  \catcode`\\=12
  \catcode`\#=12
  \includegraphics[width=0.9\textwidth]}
%\renewcommand{\familydefault}{\sfdefault}
%\renewcommand{\kanjifamilydefault}{\sfdefault}
%
\newenvironment{commandline}%
{\VerbatimEnvironment
  \begin{Sbox}\begin{minipage}{0.9\hsize}\begin{fontsize}{8}{8} \color{white} \begin{BVerbatim}}%
{\end{BVerbatim}\end{fontsize}\end{minipage}\end{Sbox}
  \setlength{\fboxsep}{8pt}
% start on a new paragraph

\vspace{6pt}% skip before
\fcolorbox{white}{black}{\TheSbox}

\vspace{3pt}% skip after
}
%end of commandline

\begin{document}

\begin{frame}[fragile]
\titlepage
\end{frame}

\begin{frame}[t,fragile]{è‡ªå·±ç´¹ä»‹}
 \begin{itemize}
  \item Katsuki Kobayashi
	\begin{itemize}
	 \item çµ„ã¿è¾¼ã¿ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
	 \item ä½¿ç”¨è¨€èª: C, ã‚¢ã‚»ãƒ³ãƒ–ãƒ©(ARM)
	 \item \sout{æ°¸é }ã«å‹‰å¼·ä¸­: Python, Kotlin, ã‚¢ã‚»ãƒ³ãƒ–ãƒ©(RISC-V), Rust
	       \onslide<2>{\item æœ€è¿‘ä¼šç¤¾ã§C++ã‚’å‹‰å¼·ã•ã›ã‚‰ã‚Œã¦ã„ã‚‹ã€‚ã‚¿ã‚¹ã‚±ãƒ†ã€‚}
	\end{itemize}
  \item Debianã¨ã®ã¤ãã‚ã„
	\begin{itemize}
	 \item å¤§å­¦æ™‚ä»£ã«ç´ æ•µãªå…ˆè¼©ãŒãŸ(ã†ã¡ç¾åœ¨DD2å,DM1å)ã«ã‚ˆã£ã¦å¸ƒæ•™
	 \item å€‹äººçš„ã«ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ§‹æˆã®çµ±ä¸€æ„ŸãŒä¸€ç•ªå¥½ã
	 \onslide<2>{\item \sout{ã‚ã‚“ã¾ã‚Šè²¢çŒ®ã—ã¦ã„ãªã„}}
	\end{itemize}
  \item Rust
	\begin{itemize}
	 \item æ–°ã—ã„è¨€èªãŒå‹‰å¼·ã—ãŸã„
	 \item ã§ã‚‚Pythonã‚„Rubyã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ãªãƒã‚¤ãƒŠãƒªã«ãªã‚‰ãªãã¦ãƒ„ãƒ©ã„
	 \onslide<2>{\item GoãŒæµè¡Œã£ã¦ã‚‹ã‚‰ã—ã„}
	 \item ã˜ã‚ƒã‚Mozillaå¥½ãã ã—Rustã«ã—ã‚ˆã† \onslide<2>{â†?}
	\end{itemize}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{æœ¬æ—¥ã®æµã‚Œ}
\begin{itemize}
 \item Rustã‚’ã•ã‚ã£ã¦ã¿ã‚‹
       \begin{itemize}
	\item rustupã§ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
	\item Cargoã§ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹
       \end{itemize}
 \item Rustã®ç‰¹å¾´ã®ã”ç´¹ä»‹
       \begin{itemize}
	\item æ³¨æ„: ç™ºè¡¨è€…ã‚‚ç´ äººãªã®ã§é›£ã—ã„è³ªå•ã¯å›ç­”ã§ãã¾ã›ã‚“
	\item \url{https://doc.rust-lang.org/stable/book/} ã‚’èª­ã‚“ã§ãã ã•ã„!!
       \end{itemize}
 \item Debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã‚’è©¦ã—ã¦ã¿ãŸè©±
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{Rustã¨ã¯?}
 \begin{itemize}
  \item MozillaãŒé–‹ç™ºã—ãŸã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª
	\begin{itemize}
	 \item Servo(çµ¶è³›é–‹ç™ºä¸­)ã¨ã„ã†ãƒ–ãƒ©ã‚¦ã‚¶ã‚¨ãƒ³ã‚¸ãƒ³ã®ãŸã‚ã«é–‹ç™º
	 \item å®‰å…¨æ€§ãƒ»ä¸¦è¡Œæ€§ã«ã¤ã„ã¦è€ƒãˆã‚‰ã‚Œã¦è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹
	 \item é™çš„å‹ä»˜ã‘è¨€èª
	 \item å­¦ç¿’æ›²ç·šãŒãƒ„ãƒ©ã‚¤ã¨ã†ã‚ã•
	\end{itemize}
  \item ã‚«ãƒ‹?
	\begin{itemize}
	 \item Rustãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®äº‹ã‚’Rustacean(ãƒ©ã‚¹ãƒˆã‚·ã‚¢ãƒ³)ã¨å‘¼ã¶
	 \item ``Crustacean(ç”²æ®»é¡)`` ã‹ã‚‰æ¥ã¦ã„ã‚‹ã‚‰ã—ã„
	       \begin{itemize}
		\item ã‚ªãƒ©ã‚¤ãƒªãƒ¼æœ¬ã®è¡¨ç´™ã¯ã‚ªã‚ªãƒ’ãƒ­ãƒã‚ªã‚¦ã‚®ã‚¬ãƒ‹
		\item éå…¬å¼ãªãƒã‚¹ã‚³ãƒƒãƒˆã‚‚ã‚«ãƒ‹ \href{http://rustacean.net/}{(Ferrisã£ã¦ã„ã†æ¨¡æ§˜)}
	       \end{itemize}
	\end{itemize}
  \item Rustã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­ã¯ .rs
	\begin{itemize}
	 \item Rustã§æ›¸ã‹ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å…¬å¼ã‚µã‚¤ãƒˆãŒ \verb|http://xxx.rs| ã§ã‚ã‚‹ã“ã¨ãŒå¤šã„
	 \item å›½åˆ¥ã‚³ãƒ¼ãƒ‰ãƒˆãƒƒãƒ—ãƒ‰ãƒ¡ã‚¤ãƒ³ .rs : ã‚»ãƒ«ãƒ“ã‚¢
	\end{itemize}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«}
 \begin{itemize}
  \item \texttt{rustup}ã‚’å…¥ã‚Œã‚‹ã®ãŒä¸€å¿œå…¬å¼
	\begin{itemize}
	 \item \verb@curl https://sh.rustup.rs -sSf | sh@
	 \item ã‚ãªãŸã®home dirã«è‰²ã€…ã¨å…¥ã‚Šã¾ã™ \verb@~/.cargo@
	\end{itemize}
  \item \texttt{rustup}ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ãŸã¡
	\begin{description}
	 \item[default] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚
		    \begin{itemize}
		     \item ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³: stableã‹nightlyã‹ç‰¹å®šã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã§ãã‚‹
		    \end{itemize}
	 \item[update] æ›´æ–°ã‚’ã‹ã‘ã¾ã™ã€‚
		    nightlyã‚’ä½¿ã†å ´åˆã¯ã¡ã‚‡ãã¡ã‚‡ãä½¿ã†
		    \begin{itemize}
		     \item ãã—ã¦ãŸã¾ã«å£Šã‚Œã‚‹
		     \item å£Šã‚Œã‚‹ã¨ã„ã£ã¦ã‚‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒãŠã‹ã—ããªã£ãŸäº‹ã¯ãªã„ã§ã™
		     \item 10å¹´å‰ãã‚‰ã„ã®sidã®æ°—åˆ†ã‚’å‘³ã‚ãˆã¾ã™
		    \end{itemize}
	 \item[completions] ã‚·ã‚§ãƒ«ã®è£œå®Œç”¨ã®ã‚³ãƒ¼ãƒ‰ã‚’åã (bash, zsh, fish, \textbf{PowerShell}, etc..)
	\end{description}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{Debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«}
 \begin{itemize}
  \item ã‚‚ã¡ã‚ã‚“Debianã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚ã‚ã‚‹
	\begin{itemize}
	 \item ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹cargoã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¥ã‚Œã‚‹ã®ãŒã‚ˆã‚ã—ã„ã‹ã¨
	 \item ä¸€ç·’ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©(rustc)ã‚‚å…¥ã‚Šã¾ã™
	\end{itemize}
 \end{itemize}
 \begin{commandline}
% apt show cargo
Package: cargo
Version: 0.33.0-1
Priority: optional
Section: rust
Maintainer: Rust Maintainers <pkg-rust-maintainers@alioth-lists.debian.net>
Installed-Size: 9,453 kB
Depends: libc6 (>= 2.18), libcurl3-gnutls (>= 7.28.0), libgcc1 (>= 1:4.2), \
libgit2-27 (>= 0.26.0), libssh2-1 (>= 1.2.5), libssl1.1 (>= 1.1.0), \
zlib1g (>= 1:1.1.4), rustc (>= 1.24), binutils, gcc | clang | c-compiler
Suggests: cargo-doc, python3
Homepage: https://crates.io/
Download-Size: 2,483 kB
APT-Manual-Installed: yes
APT-Sources: http://ftp.jp.debian.org/debian sid/main amd64 Packages
 \end{commandline}
\end{frame}

\begin{frame}[t,fragile]{Hello World (1/4)}
 \begin{itemize}
  \item Rustã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ \verb|cargo new| ã§ä½œã‚Šã¾ã™
	\begin{itemize}
	 \item \verb|--bin| (ç¾default) ã‹ \verb|--lib| (æ—§default) ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç¨®é¡ã‚‚æŒ‡å®šã§ãã¾ã™
	\end{itemize}
 \end{itemize}
\begin{commandline}
% cargo new hello
     Created binary (application) `hello` package
\end{commandline}
\begin{itemize}
 \item å®Ÿè¡Œã™ã‚‹ã¨ã€Cargo.tomlã¨src/main.rsãŒã§ãã‚‹
\end{itemize}
\begin{commandline}
% tree
.
â”œâ”€â”€ Cargo.toml
â””â”€â”€ src
    â””â”€â”€ main.rs

1 directory, 2 files
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{Hello World (2/4)}
 \begin{itemize}
  \item å®Ÿã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ãŸæ™‚ç‚¹ã§Hello Worldã®åŠåˆ†ãŒå®Œäº†ã—ã¦ã„ã‚‹
	\begin{itemize}
	 \item ç”Ÿæˆã•ã‚ŒãŸsrc/main.rsã®ä¸­èº«â†“
	\end{itemize}
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn main() {
    println!("Hello, world!");
}\end{lstlisting}
\begin{itemize}
 \item å®Ÿè¡Œã™ã‚‹ã«ã¯ \verb|cargo run|
       \begin{itemize}
	\item å®Ÿã¯ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰ãªã®ã§ã€æœ€é©åŒ–ã‚’ã‹ã‘ã‚‹ã«ã¯\verb|--release|ã‚’ã¤ã‘ã‚‹
       \end{itemize}
\end{itemize}
\begin{commandline}
% cargo run
   Compiling hello v0.1.0 (/path/to/hello)
    Finished dev [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/hello`
Hello, world!
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{Hello World (3/4)}
\begin{itemize}
 \item å°‘ã—ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã‚‹
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn main() {
    println!("Hello, world!");
}\end{lstlisting}
 \begin{description}
  \item[é–¢æ•°å®šç¾©] \verb|fn|ã‚’ä½¿ã†
  \item[mainé–¢æ•°] æˆ»ã‚Šå€¤ã¯æ›¸ã‹ãªã„
  \item[\texttt{println!()}] å®Ÿã¯é–¢æ•°ã§ã¯ãªãã¦ãƒã‚¯ãƒ­ (\verb|!|ãŒä»˜ã„ã¦ã‚‹ã®ã¯ãƒã‚¯ãƒ­)
 \end{description}
\end{frame}

\begin{frame}[t,fragile]{Hello World (4/4)}
\begin{itemize}
 \item Cargo.toml
\end{itemize}

\begin{commandline}
[package]
name = "hello"
version = "0.1.0"
authors = ["Katsuki Kobayashi <katsuki.kobayashi@gmail.com>"]
edition = "2018"

[dependencies]
\end{commandline}

\begin{itemize}
 \item Cargo.lock (ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨è‡ªå‹•ç”Ÿæˆ)
\end{itemize}

\begin{commandline}
# This file is automatically @generated by Cargo.
# It is not intended for manual editing.
[[package]]
name = "hello"
version = "0.1.0"
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{ãã‚Œã˜ã‚ƒã‚â€¦â€¦}
\begin{itemize}
 \item ã¡ã‚‡ã£ã¨è‰²ã€…ã¨Rustã®æ§‹æ–‡ã¨ã‹æ©Ÿèƒ½ã‚’ç´¹ä»‹ã—ã¾ã™
       \begin{itemize}
	\item è§£ã‚‰ãªã„ or ã‚‚ã£ã¨è©³ã—ãã¨æ€ã£ãŸã‚‰The bookã‚’èª­ã‚“ã§ã‚‚ã‚‰ãˆã‚Œã°ã¨
	      \begin{itemize}
	       \item å£é ­ã§èã„ã¦ã‚‚ã‚‰ã£ã¦ã‚‚è‰¯ã„ã§ã™ãŒå›ç­”ã«çª®ã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ \verb|;-)|
	      \end{itemize}
	\item The book: \url{https://doc.rust-lang.org/stable/book/}
	\item å®Ÿè¡Œç’°å¢ƒã¯webã§ã‚„ã£ã¦ã‚‚ã‚‰ã£ã¦ã‚‚è‰¯ã„ã‹ã‚‚ã§ã™
	      \begin{itemize}
	       \item \url{https://play.integer32.com/}
	      \end{itemize}
       \end{itemize}
 \item ã¾ã˜ã‚ã«å‘ãåˆã†ã«ã¯çµæ§‹å¤§å¤‰
       \begin{itemize}
	\item ã‚«ãƒ‹æœ¬ã§å¼•ç”¨ã•ã‚Œã¦ã‚‹
	      \href{https://www.quora.com/What-do-C-C++-systems-programmers-think-of-Rust/answer/Mitchell-Nordine}{Quoraã®è¨˜äº‹}
	\item C++ã®æœ¬ã‚’ç¾åœ¨é€²è¡Œå½¢ã§èª­ã‚“ã§ã‚‹èº«ã«ã¯ã™ã”ãç´å¾—
	      \begin{itemize}
	       \item å¤§ä½“ã€C++11ã§ã¯ã“ã†æ›¸ã‘ã‚‹ã‹ã‚‰ãã‚ŒãŒæ¨å¥¨ã£ã¦ã„ã†ã®ãŒRustã®æ–‡æ³•
	      \end{itemize}
       \end{itemize}
\end{itemize}
\begin{quote}
I've found that Rust has forced me to learn many of the things that I was slowly learning as "good practise" in C/C++ before I could even compile my code.
\end{quote}
\end{frame}

\begin{frame}[t,fragile]{å¤‰æ•°å®£è¨€(1/3)}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    let x = 1;
    println!("x = {}", x);
    let x = 1.25;
    println!("x = {}", x);
    // x = 1;   // error: expected floating-point number,
                // found integer
    // x = 1.5; // error: cannot assign twice to
                // immutable variable\end{lstlisting}
\begin{itemize}
 \item å¤‰æ•°ã®å®£è¨€ã¯letã§è¡Œãªã†
       \begin{itemize}
	\item å‹ã¯(ä¸€æ„ã«æ¨è«–ã§ãã‚‹ãªã‚‰)çœç•¥å¯èƒ½
	\item ã‚·ãƒ£ãƒ‰ãƒ¼ã‚¤ãƒ³ã‚°å¯èƒ½
	\item æŒ‡å®šãŒãªã‘ã‚Œã°immutableãªå¤‰æ•°ã«ãªã‚‹
       \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{å¤‰æ•°å®£è¨€(2/3)}
\vspace*{-2zw}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    let mut y: u32 = 1;
    y -= 1;
    y -= 1;
    println!("y = {}", y);\end{lstlisting}
\begin{itemize}
 \item å¤‰æ•°ã®å®£è¨€ã¯letã§è¡Œãªã†
       \begin{itemize}
	\item å‹ã¯å¾Œç½®è¨˜æ³•(ã‚³ãƒ­ãƒ³ã®å¾Œã‚ã«ã¤ã‘ã‚‹)
	\item mutableãªå¤‰æ•°ã«ã—ãŸã‘ã‚Œã° \texttt{mut} ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã†
       \end{itemize}
 \item ã¡ãªã¿ã«ã€å®Ÿè¡Œã™ã‚‹ã¨ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰ã ã¨é€”ä¸­ã§æ­¢ã¾ã‚Šã¾ã™
\end{itemize}
\begin{commandline}
% cargo run
Compiling variable v0.1.0 (/path/to/examples/variable)
Finished dev [unoptimized + debuginfo] target(s) in 0.00s
Running `target/debug/variable`
thread 'main' panicked at 'attempt to subtract with overflow', \
variable/src/main.rs:12:5
note: Run with `RUST_BACKTRACE=1` environment variable to \
display a backtrace.
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{å¤‰æ•°å®£è¨€(3/3)}
 \begin{itemize}
  \item ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰(\verb|--release|ä»˜ã)ã™ã‚‹ã¨æœ€å¾Œã¾ã§å®Ÿè¡Œã™ã‚‹
	\begin{itemize}
	 \item ã‚‚ã¡ã‚ã‚“ã€çµæœã¯ãŠã‹ã—ãªã“ã¨ã«ãªã‚‹
	\end{itemize}
 \end{itemize}
\begin{commandline}
% cargo run
Compiling variable v0.1.0 (/path/to/examples/variable)
Finished release [optimized] target(s) in 0.30s
Running `target/release/variable`
x = 1
x = 1.25
y = 4294967295
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{åŸºæœ¬çš„ãªå‹}
 \begin{description}
  \item[æ•´æ•°]
	      \textbf{ç¬¦å·ç„¡ã—:} \texttt{u8}, \texttt{u16}, \texttt{u32}, \texttt{u64}, \texttt{usize}\\
	      \textbf{ç¬¦å·ä»˜ã:} \texttt{i8}, \texttt{i16}, \texttt{i32}, \texttt{i64}, \texttt{isize}
  \item[æµ®å‹•å°æ•°ç‚¹] \textbf{å˜ç²¾åº¦:} \texttt{f32}ã€\textbf{å€ç²¾åº¦:} \texttt{f64}
  \item[ãƒ–ãƒ¼ãƒ«] \texttt{bool}
  \item[æ–‡å­—] \texttt{char}  (Unicodeã®1æ–‡å­—)
  \item[æ–‡å­—åˆ—] \texttt{String}
	     \begin{itemize}
	      \item ãŸã ã—ã€æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã® \texttt{str} ãŒã‚ã£ã¦ã¨ã¦ã‚‚ã‚„ã‚„ã“ã—ã„
	     \end{itemize}
  \item[é…åˆ—] \texttt{[T; N]} (\texttt{T}: å‹,  \texttt{N}: è¦ç´ æ•°)
  \item[ãƒ™ã‚¯ã‚¿ãƒ¼] \texttt{Vec<T>} (\texttt{T}: å‹)
  \item[ã‚¹ãƒ©ã‚¤ã‚¹] \texttt{\&[T]} (\texttt{T}: å‹)
 \end{description}
\end{frame}

\begin{frame}[t,fragile]{\texttt{String}ã¨\texttt{str} (1/2)}
\begin{itemize}
 \item C++ã®\texttt{std::string}ã¨\texttt{char}ã«ä¼¼ã¦ã„ã‚‹
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    let a = "abcd".to_string(); // String::from("abcd"); ã‚‚å¯
    let b = &a[1..];
    let c = "zyxwv";\end{lstlisting}
\begin{center}
 \includegraphics[keepaspectratio,height=4cm]{./img/rustlang-str-string.png}
\end{center}
\end{frame}

\begin{frame}[t,fragile]{\texttt{String}ã¨\texttt{str} (2/2)}
\begin{itemize}
 \item \texttt{String}ã¯å¯å¤‰é•·
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    let mut a = "abcd".to_string();
    //  ^^^
    a.push_str("efg");  // OK

    let mut c = "zyxwv";
    // no method named `push_str` found
    // for type `&str` in the current scope
    c.push_str("ut");  // Error!! \end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{é–¢æ•°}
 \begin{itemize}
  \item \texttt{fn} ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ \texttt{->} ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ã£ã¦æ›¸ã
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn add(a: i32, b: i32) -> i32 {
    return a + b;
}

fn main() {
    println!("{}", add(1, 2));
}\end{lstlisting}

\begin{commandline}
% cargo run
Compiling function v0.1.0 (/path/to/examples/function)
Finished dev [unoptimized + debuginfo] target(s) in 0.20s
Running `target/debug/function`
3
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{æ‰€æœ‰æ¨©(1/4)}
 \begin{itemize}
  \item æ•´æ•°å‹ã¨æ–‡å­—åˆ—å‹ã®å¤‰æ•°ã‚’è¤‡æ•°ã®å¤‰æ•°ã«ä»£å…¥ã—ã¦ã¿ã‚‹
	\begin{itemize}
	 \onslide<2>{\item ã©ã†ãªã‚‹ã¨æ€ã„ã¾ã™?}
	\end{itemize}
 \end{itemize}
 \begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    let i0 = 1;
    let i1 = i0;
    let i2 = i0;

    let s0: String = "hoge".to_string();
    let s1 = s0;
    let s2 = s0;\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{æ‰€æœ‰æ¨©(2/4)}
\begin{itemize}
 \item æ–‡å­—åˆ—å‹ã®æ–¹ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
       \begin{itemize}
	\item Rustã§ã¯ã€ä»£å…¥ã€é–¢æ•°ã®å¼•æ•°ã€é–¢æ•°ã®æˆ»ã‚Šå€¤ã§
	      æ‰€æœ‰æ¨©ãŒç§»å‹•ã™ã‚‹
	\item ãŸã ã—ã€æ•´æ•°ç­‰ã€ä¸€éƒ¨ã®å‹ã¯ã‚³ãƒ”ãƒ¼ã«ãªã‚‹
	      \begin{itemize}
	       \item ãã®ãŸã‚\verb|i2|ã§ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã„ãªã„
	       \item ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹å‹ã«ã¤ã„ã¦ã¯ã€
		     ã‚¨ãƒ©ãƒ¼ã§å‡ºã¦ã„ã‚‹ ``Copy trait '' ã¨ã„ã†ã®ãŒãƒŸã‚½
	      \end{itemize}
       \end{itemize}
\end{itemize}
\begin{commandline}
error[E0382]: use of moved value: `s0`
 --> ownership/src/main.rs:8:15
  |
6 |     let s0: String = "hoge".to_string();
  |         -- move occurs because `s0` has type `std::string::String`, \
               which does not implement the `Copy` trait
7 |     let s1 = s0;
  |              -- value moved here
8 |     let s2 = s0;
  |              ^^ value used here after move
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{æ‰€æœ‰æ¨©(3/4)}
\begin{itemize}
 \item é–¢æ•°ã®å¼•æ•°ã‚‚é§„ç›®ãªã®ã§ä»¥ä¸‹ã‚‚ã‚¢ã‚¦ãƒˆ
\end{itemize}
 \begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn consume(_s: String) {}
// ä¸­ç•¥
    let h: String = "Hello World".to_string();
    consume(h);
    let hh = h;
\end{lstlisting}

\begin{commandline}
12 |     let h: String = "Hello World".to_string();
   |         - move occurs because `h` has type `std::string::String`, \
               which does not implement the `Copy` trait
13 |     consume(h);
   |             - value moved here
14 |     let hh = h;
   |              ^ value used here after move
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{æ‰€æœ‰æ¨©(4/4)}
\begin{itemize}
 \item é€†ã«é–¢æ•°ã®æˆ»ã‚Šå€¤ã®æ‰€æœ‰æ¨©ã‚’å‘¼ã³å…ƒã«æ¸¡ã›ã‚‹
\end{itemize}
 \begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn generate(i: i32) -> Vec<i32> {
    let mut v = Vec::new();
    v.push(i);
    return v;
}
// ç•¥
    let v1 = generate(10);
    let mut v2 = generate(100);
    v2.push(101);
    println!("v1: {:?}", v1); // v1: [10]
    println!("v2: {:?}", v2); // v2: [100, 101]\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{å‚ç…§, å€Ÿç”¨(1/2)}
 \begin{itemize}
  \item æ‰€æœ‰æ¨©ã‚’æ¸¡ã•ãšã«å€¤ã‚’ä½¿ã†ã«ã¯å‚ç…§ã‚’ä½¿ã†
	\begin{itemize}
	 \item Rustã§ã¯ã€Œå€Ÿç”¨ã€ã¨ã‚‚è¨€ã†
	 \item C++ã¨ãŠãªã˜ãã€ ``\texttt{\&}'' ã‚’ä½¿ã†
	 \item C++ã¨é•ã„
	       \begin{itemize}
		\item å€Ÿç”¨ã™ã‚‹å´(å‚ç…§ã•ã‚Œã‚‹å´)ã«``\texttt{\&}''ã‚’ä»˜ã‘ã‚‹
		\item é–¢æ•°ã®å‘¼ã³å‡ºã—å…ƒã¨å‘¼ã³å‡ºã—å…ˆä¸¡æ–¹ã«``\texttt{\&}''ãŒå¿…è¦
	       \end{itemize}
	\end{itemize}
 \end{itemize}
 \begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn consume(_s: &String) {}
// ç•¥
    let s0: String = "hoge".to_string();
    let s1 = &s0;
    let s2 = &s0;

    let h: String = "Hello World".to_string();
    consume(&h);
    let hh = h;\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{å‚ç…§, å€Ÿç”¨(2/2)}
\begin{itemize}
 \item å‚ç…§ã®è§£æ±ºã«ã¯ ``\texttt{*}'' ã‚’ä½¿ã†
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    let i0 = 5;
    let i1 = &i0;

    println!("i0: {}, i1: {}", i0, *i1);\end{lstlisting}
\begin{itemize}
 \item ã§ã‚‚ã€é–¢æ•°ã§ä½¿ã†å ´åˆã ã£ãŸã‚Šã€è‰²ã€…ãªå ´é¢ã§çœç•¥ã§ããŸã‚Šã™ã‚‹
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn catlength(a: &String, b: &String) -> usize {
    return a.len() + b.len();
}
// ç•¥
    let s0 = "hoge".to_string();
    let s1 = "fuga".to_string();
    println!("{}", catlength(&s0, &s1));\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ (1/6)}
\begin{itemize}
 \item Cè¨€èªã¨ãŠãªã˜ãRustã®å¤‰æ•°ã«ã¯ã‚¹ã‚³ãƒ¼ãƒ—ãŒã‚ã‚‹(GCã¨ã‹ã¯ãªã„)
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    {
        let a = 0;
    }  // ã“ã“ã§ãƒ‰ãƒ­ãƒƒãƒ—
    println!("{}", a);\end{lstlisting}
\begin{commandline}
error[E0425]: cannot find value `a` in this scope
--> lifetime/src/main.rs:5:20
  |
5 |     println!("{}", a);
  |                    ^ not found in this scope
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ (2/6)}
\begin{itemize}
 \item å‚ç…§ã—ã¦ã„ãŸå ´åˆã€\textbf{ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚}ã«æ€’ã‚‰ã‚Œã‚‹
       \begin{itemize}
	\item C/C++ã§ã‚ˆãã‚„ã‚‹è§£æ”¾æ¸ˆã¿ã®ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹ã¨ã‹ãŒ
	      ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ç™ºè¦‹ã§ãã‚‹!!
       \end{itemize}
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    let r;
    {
        let b = 0;
        r = &b;
    }
    println!("{}", r);\end{lstlisting}
\begin{commandline}
error[E0597]: `b` does not live long enough
--> lifetime/src/main.rs:11:9
   |
11 |         r = &b;
   |         ^^^^^^ borrowed value does not live long enough
12 |     }
   |     - `b` dropped here while still borrowed
13 |     println!("{}", r);
   |                    - borrow later used here
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ (3/6)}
\begin{itemize}
 \item ã•ã‚‰ã«ã‚„ã‚„ã“ã—ã„ã®ãŒé–¢æ•°ã§ã€ä»¥ä¸‹ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
       \begin{itemize}
	\item ã•ã‚‰ã‚Šã¨æ›¸ã„ã¦ã¾ã™ãŒã€ã‚»ãƒŸã‚³ãƒ­ãƒ³ã‚’æŠœã‹ã™ã¨å€¤ã‚’ä½œã‚Šã¾ã™
	      \begin{itemize}
	       \item ãã®ãŸã‚ã€ \texttt{x} ã‚„ \texttt{y} ã®å¾Œã‚ã«ã‚»ãƒŸã‚³ãƒ­ãƒ³ãŒãªã„
	       \item if \textbf{å¼} ã®å¾Œã‚ã«ã‚‚ã‚»ãƒŸã‚³ãƒ­ãƒ³ãŒãªã„
	      \end{itemize}
       \end{itemize}
\end{itemize}

\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn longest(x: &str, y: &str) -> &str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ (4/6)}
\vspace*{-2zw}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn longest(x: &str, y: &str) -> &str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}\end{lstlisting}
\begin{commandline}
error[E0106]: missing lifetime specifier
--> lifetime/src/main.rs:1:33
  |
1 | fn longest(x: &str, y: &str) -> &str {
  |                                 ^ expected lifetime parameter
  |
= help: this function's return type contains a borrowed value, \
  but the signature does not say whether it is borrowed from `x` or `y`
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ (5/6)}
\begin{commandline}
error[E0106]: missing lifetime specifier
--> lifetime/src/main.rs:1:33
  |
1 | fn longest(x: &str, y: &str) -> &str {
  |                                 ^ expected lifetime parameter
  |
= help: this function's return type contains a borrowed value, \
  but the signature does not say whether it is borrowed from `x` or `y`
\end{commandline}
 \begin{itemize}
  \item å•é¡Œã¯ãªã«ã‹?
	\begin{itemize}
	 \item å®Ÿè¡Œã™ã‚‹ã¾ã§ \texttt{x} ã¨ \texttt{y} (ã©ã¡ã‚‰ã‚‚å‚ç…§)ã®ã©ã¡ã‚‰ã‚’è¿”ã™ã‹ã‚ã‹ã‚‰ãªã„
	 \item æˆ»ã‚Šå€¤ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ãŒã©ã†ãªã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã®ã§ã€ãã®å¾Œã®å‡¦ç†ãŒãƒã‚§ãƒƒã‚¯ã§ããªã„
	\end{itemize}
  \item ã‚“ã˜ã‚ƒã©ã†ã™ã‚‹ã®?
	\begin{itemize}
	 \item ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæ€’ã£ã¦ã„ã‚‹é€šã‚Šã€lifetime parameterã‚’æ›¸ã‘ã°OK
	 \item åŸºæœ¬çš„ã«Rustã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¦ªåˆ‡ã§ã™
	       \begin{itemize}
		\item ä¸€éƒ¨ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã‚«ã‚ªã‚¹ãªã ã‘ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒâ€¦â€¦
		      \color{lightgray}{ã­ã‡ã€gccã•ã‚“}
	       \end{itemize}
	\end{itemize}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ (6/6)}
\begin{itemize}
 \item ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãå¿…è¦ãŒã‚ã‚‹
       \begin{itemize}
	\item ç”Ÿå­˜æœŸé–“ã‚’ \texttt{'a} ã¨ã™ã‚‹
	      \begin{itemize}
	       \item è¨˜å·ã¯æ…£ä¾‹çš„ã«ã¯é©å½“ãªæ¨¡æ§˜
	      \end{itemize}
	\item æˆ»ã‚Šå€¤ã¯ \texttt{x}, \texttt{y} ã®çŸ­ã„æ–¹ã®ç”Ÿå­˜æœŸé–“ã‚’æŒã¤å¿…è¦ãŒã‚ã‚‹
	\item \verb|fn longest<'a, 'b>(x: &'a str, y: &'b str) -> &'a str| ã¨ã‚‚æ›¸ã‘ã‚‹ãŒ\\
	      \texttt{y} ã®ç”Ÿå­˜æœŸé–“ãŒ \texttt{'a} ã§ãªã„ãŸã‚ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
       \end{itemize}
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{æ§‹é€ ä½“(1/2)}
\begin{itemize}
 \item Rustã«ã¯classã¯ãªã„
       \begin{itemize}
	\item ç´ ç›´ã«(?)æ§‹é€ ä½“ã‚’ä½¿ã†
	\item å€¤ã®å®£è¨€æ™‚ã¯å„è¦ç´ ã®åå‰ãŒå¿…è¦ (ã¾ã£ãŸãåŒåã®å¤‰æ•°ã§åˆæœŸåŒ–ã™ã‚‹ã¨ãã®ã¿çœç•¥å¯)
	\item æœ¬æ—¥ã¯æ‰±ã„ã¾ã›ã‚“ãŒã€ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚‚çµ¡ã‚“ã§ãã‚‹
       \end{itemize}
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
struct Point {
    x: f64,
    y: f64,
}
// ç•¥
    let _p0 = Point { x: 1.0, y: 1.0 };
\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{æ§‹é€ ä½“(2/2)}
\begin{itemize}
 \item æ§‹é€ ä½“ã ã‘ã©ã€é–¢æ•°ã‚’ç”Ÿã‚„ã›ã‚‹ã‚ˆww
       \begin{itemize}
	\item æœ€åˆã®å¼•æ•°ã¯\texttt{self}(å€¤ã‚’å¤‰æ›´ã—ãŸã„å ´åˆã¯\texttt{mut}ã‚’ä»˜ã‘ã‚‹)
       \end{itemize}
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
struct Point {
    x: f64,
    y: f64,
}

impl Point {
    fn abs(&self) -> f64 {
        (self.x * self.x + self.y * self.y).sqrt()
    }
}

fn main() {
    let p0 = Point { x: 1.0, y: 1.0 };
    println!("{}", p0.abs()); // => 1.4142135623730951
}\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{ã‚¸ã‚§ãƒãƒªãƒƒã‚¯}
\begin{itemize}
 \item æ§‹é€ ä½“ã€é–¢æ•°ç­‰ã‚’genericã«ã™ã‚‹ã“ã¨ãŒã§ãã‚‹
       \begin{itemize}
	\item C++ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€Javaã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹çš„ãªã‚‚ã®
       \end{itemize}
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
struct GenPoint<T> {
    x: T,
    y: T,
}
// ç•¥
    let _p1 = GenPoint::<i32> { x: 1, y: 1 };
    let _p2 = GenPoint { x: 1, y: 1 };
    let _p3 = GenPoint { x: 1.5, y: 2.0 };
\end{lstlisting}
\begin{itemize}
 \item \verb|GenPoint<T, U>| ã¨ã—ã¦ã€ \texttt{y} ã‚’ \texttt{U} ã¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{Trait (1/5)}
 \begin{itemize}
  \item Javaã¨ã‹Goã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çš„ãªã‚‚ã®ã‚‚ã‚ã‚‹ -> Trait(ãƒˆãƒ¬ã‚¤ãƒˆ)
	\begin{itemize}
	 \item ã•ãã»ã©å‡ºã¦ããŸ Copy trait ã‚‚ã‚³ãƒ¬
	\end{itemize}
  \item traitã®å®šç¾©ã¯ä»¥ä¸‹ã®ã‚ˆã†ã« \texttt{trait} ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ä½œã‚‹
	\begin{itemize}
	 \item duckã¯walkã—ã¦quackã§ãã‚‹ã‚‚ã®
	\end{itemize}
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
trait Duck {
    fn walk(&self);
    fn quack(&self);
}\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{Trait (2/5)}
\begin{itemize}
 \item å®Ÿè£…ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
struct RealDuck {}

impl Duck for RealDuck {
    fn walk(&self) {
        println!("duck walking");
    }

    fn quack(&self) {
        println!("quack")
    }
}\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{Trait (3/5)}
\begin{itemize}
 \item åŒæ§˜ã«\texttt{Dog}ã‚‚å®Ÿè£…ã™ã‚‹
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
struct Dog {}

impl Duck for Dog {
    fn walk(&self) {
        println!("dog walking");
    }

    fn quack(&self) {
        println!("bow")
    }
}\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{Trait (4/5)}
\begin{itemize}
 \item ãã†ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã« \texttt{Duck} ã‚’å¼•æ•°ã«ã—ãŸé–¢æ•° \verb|test_duck()| ã«\\
       \texttt{RealDuck} ã¨ \texttt{Dog}ã®ã©ã¡ã‚‰ã‚‚æ¸¡ã™ã“ã¨ãŒã§ãã‚‹
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn test_duck(duck: &Duck) {
    duck.walk();
    duck.quack();
}

fn main() {
    let duck = RealDuck {};
    let dog = Dog {};

    test_duck(&duck);
    test_duck(&dog);
}\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{Trait (5/5)}
 \begin{itemize}
  \item è¤‡æ•°ã®Traitã‚’å®Ÿè£…ã—ãŸå‹ã‚’è¦æ±‚ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹
	\begin{itemize}
	 \item \verb|pub fn notify(item: impl Summary + Display) {|
	       \begin{itemize}
		\item \verb|Summary| ã¨ \verb|Display| ã‚’åŒæ™‚ã«å®Ÿè£…ã—ãŸå‹
	       \end{itemize}
	\end{itemize}
  \item èª­ã¿è¾›ã„ã®ã§ã€ä»¥ä¸‹ã®æ›¸å¼ã‚‚ã‚ã‚‹
	\begin{itemize}
	 \item \verb|pub fn notify<T: Summary + Display>(item: T) {|
	\end{itemize}
  \item ã•ã‚‰ã«ã“ã‚“ãªæ›¸å¼ã‚‚â€¦â€¦
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn some_function<T, U>(t: T, u: U) -> i32
    where T: Display + Clone,
          U: Clone + Debug
{\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{enum (1/5)}
 \begin{itemize}
  \item Rustã®enumã¯ \sout{è‰²ã€…ã¨ãŠã‹ã—ã„} ç›¸å½“ã«å¼·åŠ›
  \item Cè¨€èªã®ã‚ˆã†ãª \texttt{enum} ã¯ã‚‚ã¡ã‚ã‚“ä½œã‚Œã‚‹
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
enum Fruits {
    Apple,
    Banana,
    Orange,
    Peach,
}
// ç•¥
    let _hoge = Fruits::Apple;\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{enum (2/5)}
 \begin{itemize}
  \item enumå€¤ã®ä¸­ã«å€¤ã‚’æŒã¤ã“ã¨ãŒã§ãã‚‹
	\begin{itemize}
	 \item ã—ã‹ã‚‚ã€å‹ã‚‚å€‹æ•°ã‚‚è‡ªç”±è‡ªåœ¨
	 \item \verb|(u8, u8, u8, u8)| ã¯ã‚¿ãƒ—ãƒ«
	\end{itemize}
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
enum IpAddr {
    V4((u8, u8, u8, u8)),
    V6(String),
}
// ç•¥
    let v4_addr = IpAddr::V4((127, 0, 0, 1));
    let v6_addr = IpAddr::V6("::1".into());\end{lstlisting}
\begin{itemize}
 \item ãªãŠã€enumã«ã‚‚ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”Ÿã‚„ã›ã¾ã™www
       \begin{itemize}
	\item structã®ã¨ãã¨åŒã˜ãã€implã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã†
       \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{enum (3/5)}
\begin{itemize}
 \item å€¤ã‚’æŒãŸã›ãŸenumã¯matchã‚’ä½¿ã£ã¦å–ã‚Šå‡ºã™ã“ã¨ãŒã§ãã‚‹
       \begin{itemize}
	\item Cè¨€èªã®switchæ–‡ã®defaultçš„ãªã®ã¯ ``\verb|_ =>|'' ã¨æ›¸ã
       \end{itemize}
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
fn extract_addr(addr: &IpAddr) {
    match addr {
        IpAddr::V4(a) => {
            println!("{}.{}.{}.{}", a.0, a.1, a.2, a.3);
        }
        IpAddr::V6(a) => {
            println!("{}", a);
        }
    }
}
// ç•¥
    extract_addr(&v4_addr); // => 127.0.0.1
    extract_addr(&v6_addr); // => ::1\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{enum (4/5)}
 \begin{itemize}
  \item ã‚¿ãƒ—ãƒ«å‹ãƒ´ã‚¡ãƒªã‚¢ãƒ³ãƒˆã€æ§‹é€ ä½“å‹ãƒ´ã‚¡ãƒªã‚¢ãƒ³ãƒˆãªã‚“ã¦ã‚‚ã®ã‚‚â€¦â€¦
	\begin{itemize}
	 \item ã‚„ã¯ã‚Šã€matchã‚’ä½¿ã£ã¦å–ã‚Šå‡ºã™
	\end{itemize}
  \item ã‚¿ãƒ—ãƒ«å‹ãƒ´ã‚¡ãƒªã‚¢ãƒ³ãƒˆã®ä¾‹
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
enum RoughTime {
    InThePast(TimeUnit, u32),
    JustNow,
    InTheFuture(TimeUnit, u32),
}
// ç•¥
    match &t {
        RoughTime::InTheFuture(_, t) => {
            println!("{}", t);
        }\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{enum (5/5)}
\begin{itemize}
 \item æ§‹é€ ä½“å‹ãƒ´ã‚¡ãƒªã‚¢ãƒ³ãƒˆã®ä¾‹
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
enum Shape {
    Sphere { center: Point3d, radius: f32 },
    Cuboid { corner1: Point3d, corner2: Point3d },
}
// ç•¥
    match &u {
        Shape::Cuboid {
            corner1: c1,
            corner2: c2,
        } => {
            println!("{:?}", c1);
        }\end{lstlisting}
 \begin{itemize}
  \item ä¾¿åˆ©ã ãŒã€ã‚„ã‚Šã™ãã‚‹ã¨å‹ã®ã‚µã‚¤ã‚ºãŒç„¡é§„ã«å¤§ãããªã‚‹
	\begin{itemize}
	 \item æœ€å¤§ã‚µã‚¤ã‚ºã®ãƒ´ã‚¡ãƒªã‚¢ãƒ³ãƒˆã«åˆã‚ã•ã‚‹ãŸã‚
	 \item å¤§ããªãƒ´ã‚¡ãƒªã‚¢ãƒ³ãƒˆã‚’ãƒ’ãƒ¼ãƒ—ã«ç½®ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹Boxå‹ã‚’ç”¨ã„ã‚‹
	 \item Boxå‹ã«ã¤ã„ã¦ã¯æœ¬æ—¥ã¯æ‰±ã„ã¾ã›ã‚“!!
	\end{itemize}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{\texttt{Option}<T>ã¨\texttt{Result}<\texttt{T,E}> (1/2)}
 \begin{itemize}
  \item Rustã®æ¨™æº–çš„ãªå‹
  \item å®šç¾©ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
pub enum Option<T> {
    None,
    Some(T),
}

pub enum Result<T, E> {
    Ok(T),
    Err(E),
}\end{lstlisting}
\begin{itemize}
  \item \verb|Option<T>|
	\begin{itemize}
	 \item å€¤ãŒãªã„å¯èƒ½æ€§ãŒã‚ã‚‹äº‹ã‚’ç¤ºã™ (nullptrã®ä»£ã‚ã‚Š)
	\end{itemize}
 \item \verb|Result<T,E>|
       \begin{itemize}
	\item å¤±æ•—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹äº‹ã‚’ç¤ºã™ (ä¾‹å¤–ã®ä»£ã‚ã‚Š)
       \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{\texttt{Option}<T>ã¨\texttt{Result}<\texttt{T,E}> (2/2)}
 \begin{itemize}
  \item ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã‚¨ãƒ©ãƒ¼åˆ¤å®šã™ã‚‹
	\begin{itemize}
	 \item è‰²ã€…ã¨ä¾¿åˆ©ãªé–¢æ•°ã‚„æ¼”ç®—å­ãŒã‚ã‚Šã¾ã™. (?æ¼”ç®—å­, expect(), unwrap())
	\end{itemize}
 \end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
    let i = match env::args().nth(1) {
        None => {
            panic!("no arguments");
        }
        Some(arg) => match arg.parse::<i32>() {
            Ok(fig) => fig,
            Err(e) => {
                panic!("error: {}", e);
            }
        },
    };

    println!("i: {}", i);
\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{Crate (1/3)}
 \begin{itemize}
  \item Rustã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã‚¯ãƒ¬ãƒ¼ãƒˆã¨å‘¼ã°ã‚Œã‚‹å˜ä½ã®çµ„ã¿åˆã‚ã›ã§æ§‹æˆã•ã‚Œã‚‹
	\begin{itemize}
	 \item è©³ç´°ã«ã¤ã„ã¦ã¯æœ¬æ—¥ã¯çœç•¥ã™ã‚‹ã¨ã—ã¦â€¦â€¦
	\end{itemize}
  \item crates.io
	\begin{itemize}
	 \item The Rust community's crate registry
	\end{itemize}
  \item ä½¿ã„æ–¹
	\begin{itemize}
	 \item Cargo.tomlã® \verb|[dependencies]| ã«ã€crates.ioã«æ›¸ã‹ã‚Œã¦ã„ã‚‹å¼ã‚’å…¥ã‚Œã‚Œã°OK
	 \item ã“ã“ã«gitã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ã¤ã£ã“ã‚€äº‹ã‚‚ã§ãã‚‹
	\end{itemize}
  \item ã“ã“ã§ã¯ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³è§£æã®crateã®\href{https://clap.rs/}{clap}ã‚’ä½¿ã£ãŸä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™
	\begin{itemize}
	 \item \verb|-n| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã ã‘ã‚ã‚‹echoã‚³ãƒãƒ³ãƒ‰ã‚‚ã©ã
	\end{itemize}
 \end{itemize}
\begin{commandline}
[dependencies]
clap = "2.32.0"
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{Crate (2/3)}
\begin{itemize}
 \item Rust 2018ã®å‰ã¾ã§ã¯ã€ \verb|extern crate clap;| ã¨ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸ
       \begin{itemize}
	\item Cargo.tomlã¨å†—é•·ã ã£ãŸã‹ã‚‰(?)ä¸è¦ã«
       \end{itemize}
\end{itemize}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
use clap::{App, Arg};

fn main() {
    let m = App::new("echo")  // ã‚³ãƒãƒ³ãƒ‰å
        .arg(Arg::with_name("STRING").multiple(true))  // è¤‡æ•°ã®å¼•æ•°
        .arg( // '-n' ã‚’å®šç¾©
            Arg::with_name("n")
                .short("n")
                .help("do not output the trailing newline"),
        )
        .get_matches();  // å®Ÿè¡Œ
// ç¶šã\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{Crate (3/3)}
\begin{lstlisting}[language=Rust,style=boxed,style=colouredRust,basicstyle=\small\tt,lineskip=-2pt]
// ç¶šã
    let out = match m.values_of("STRING") {
        //         â†“åœ°å‘³ã«ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨
        Some(v) => v.collect::<Vec<&str>>().join(" "),
        None => "".into(),
    };

    print!("{}", out);

    if !m.is_present("n") {
        println!("");  // '-n'ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãªã‘ã‚Œã°æ”¹è¡Œ
    }
}\end{lstlisting}
\end{frame}

\begin{frame}[t,fragile]{æ–‡æ³•ã¨ã‹ã«ã¤ã„ã¦ã¯ä»¥ä¸Š!!}
\begin{itemize}
 \item æœ¬æ—¥ã¾ã£ãŸããŠä¼ãˆã§ããªã‹ã£ãŸå†…å®¹
       \begin{itemize}
	\item ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãƒ¼
	\item ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ãƒ¼
	\item ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿
	\item ãƒ†ã‚¹ãƒˆ
	      \begin{itemize}
	       \item Rustã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ãŸã‚Šã€
		     ã‚³ãƒ¡ãƒ³ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒ†ã‚¹ãƒˆã¨ã‹ã‚‚ã§ãã‚‹
	      \end{itemize}
       \end{itemize}
 \item èˆˆå‘³ãŒã‚ã‚Œã°ã€ The Book ã‚’ãŠèª­ã¿ãã ã•ã„
 \item å†æ²: ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨Cargo.lockã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹
       \begin{itemize}
	\item Cargo.tomlã¯ã–ã£ãã‚Šã¨ã—ãŸä¾å­˜ã‚’æ‰‹å‹•ã§ä½œæˆ
	      \begin{itemize}
	       \item ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚‚ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã ã‘è¨˜è¿°ã§ãã‚‹
	      \end{itemize}
	\item Cargo.lockã¯å®Œå…¨ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„ãƒãƒƒã‚·ãƒ¥å€¤ã‚’æŒã£ã¦
	      CargoãŒãƒ“ãƒ«ãƒ‰æ™‚ã«è‡ªå‹•ã§ä½œæˆ
	      \begin{itemize}
	       \item ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸã‘ã‚Œã° \verb|cargo update| ã‚’å®Ÿè¡Œ
	      \end{itemize}
       \end{itemize}
\end{itemize}
\end{frame}

\takahashi[40]{ã¤ã‹ã‚ŒãŸâ€¦â€¦}
\takahashi[20]{ã²ã¨ã¾ãš\\Rustã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«æ€’ã‚‰ã‚ŒãªãŒã‚‰\\ã›ã£ã›ã¨ç›´ã—ã¦ã„ãè¨€èªã§ã™}
\takahashi[40]{ã¨ã„ã†ã“ã¨ã§}
\takahashi[40]{ãŠã¾ãŸã›ã—ã¾ã—ãŸ}
\takahashi[30]{\vspace*{2zw}ã‚ˆã†ã‚„ãDebianè¦ç´ ã§ã™\\ \vfill \onslide<2>\tiny{ã—ã‚Šã™ã¼ã¿ã«ãªã‚‹ã‚ˆâ€¦â€¦}}

\begin{frame}[t,fragile]{Debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã—ã¦ã¿ã‚‹}
 \begin{itemize}
  \item ä¸€ç•ªç°¡å˜ãªæ–¹æ³• : \texttt{cargo-deb}
	\begin{itemize}
	 \item A cargo subcommand that generates Debian packages from information in Cargo.toml
	       \begin{itemize}
		\item \href{https://github.com/mmstick/cargo-deb}{GitHub}
		\item \href{https://users.rust-lang.org/t/cargo-deb-make-debian-packages-from-cargo-projects/12199}{ã‚¢ãƒŠã‚¦ãƒ³ã‚¹@users.rustlang.org}
	       \end{itemize}
	 \item ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•
	       \begin{itemize}
		\item \verb|cargo install cargo-deb| : \verb|cargo|ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦å…¥ã‚‹
		\item debã¯â€¦â€¦ãªã„â€¦â€¦!!
	       \end{itemize}
	 \item å•é¡Œç‚¹
	       \begin{itemize}
		\item å…¬å¼ã«ã¯ã¨ã¦ã‚‚å…¥ã‚‰ãªã„debã‚’åã
		\item å˜ä¸€ãƒã‚¤ãƒŠãƒªã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã—ã‹å¯¾å¿œã—ã¦ã„ãªã„
		\item ã ã‹ã‚‰debã«ãªã£ã¨ã‚‰ã‚“ã®ã‹â€¦â€¦
	       \end{itemize}
	 \item ã¾ãã€ãˆã„ã‚„ã¨/usr/binã«å…¥ã‚ŒãŸã„ãªã‚‰ã‚¢ãƒªã‹ã‚‚ã§ã™ãŒâ€¦â€¦
	\end{itemize}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{çœŸé¢ç›®ã«Debianãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã—ã¦ã¿ã‚‹}
 \begin{itemize}
  \item Debian Rust packaging team
	\begin{itemize}
	 \item \url{https://wiki.debian.org/Teams/RustPackaging}
	\end{itemize}
  \item crates.ioã«ã‚ã‚‹ã‚‚ã®ã«ã¤ã„ã¦ã¯debcargoãŒã„ã„æ„Ÿã˜ã«ã‚„ã£ã¦ãã‚Œã‚‹ã‚‰ã—ã„
	\begin{itemize}
	 \item å®Ÿéš›ã« \verb|debcargo package ripgrep| ã‚’ã™ã‚‹ã¨
	       ripgrepã®debãŒä½œã‚‰ã‚Œã‚‹
	 \item ã¨ã“ã‚ãŒã€ã“ã®debcargoã•ã‚“ã€\\
	       crates.ioã«ã‚¢ãƒƒãƒ—ã•ã‚Œã¦ã„ã‚‹ç‰©ã—ã‹debã«ã—ã¦ãã‚Œãªã„æ¨¡æ§˜â€¦â€¦
	\end{itemize}
  \item ã“ã‚Œä»¥é™ã§ã¯ã€å…ˆç¨‹ã®clapã®ã‚µãƒ³ãƒ—ãƒ«ã®debä½œæˆã«æŒ‘æˆ¦ã—ã¾ã™
	\begin{itemize}
	 \item æ–¹é‡ã¨ã—ã¦ã€debcargoã§ã‚‚ä½¿ã† \verb|dh-cargo| ã‚’ä½¿ã†
	 \item \url{https://github.com/rarewin/clap-test} ã«ã‚½ãƒ¼ã‚¹ç½®ã„ã¦ã¾ã™
	\end{itemize}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{\texttt{dh\_make}ã™ã‚‹}
\begin{commandline}
% dh_make -s -p rust-clap-test_0.1.0 --createorig
Maintainer Name     : Katsuki Kobayashi
Email-Address       : rare@tirasweel.org
Date                : Sat, 23 Mar 2019 18:03:48 +0900
Package Name        : rust-clap-test
Version             : 0.1.0
License             : blank
Package Type        : single
Are the details correct? [Y/n/q]
Currently there is not top level Makefile. This may require additional
tuning Done. Please edit the files in the debian/ subdirectory now.
\end{commandline}
\begin{itemize}
 \item debcargoã‚’ä½¿ã†ã¨ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã«ã¯ \texttt{rust-} ã‚‚ã—ãã¯ \texttt{librust-} ãŒ\\
       suffixã¨ã—ã¦ä»˜ãæ¨¡æ§˜
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{\texttt{dh-cargo}ã‚’ä½¿ã†ã‚ˆã†ã«ã™ã‚‹}
\begin{itemize}
 \item ã²ã¨ã¾ãšä»¥ä¸‹ã‚’ã—ã¦ã¿ã‚‹
       \begin{itemize}
	\item debian/rulesã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
	\item debian/controlã®Build-Dependsã«dh-cargo/librust-clap-devã‚’å…¥ã‚Œã‚‹
       \end{itemize}
 \end{itemize}
\begin{commandline}
%:
dh $@ --buildsystem cargo
\end{commandline}
\begin{itemize}
 \item ã¨ã‚Šã‚ãˆãš debuild-pbuilder ã—ã¦ã¿ã‚‹
\end{itemize}
\begin{commandline}
% debuild-pbuilder
-> Attempting to satisfy build-dependencies
-> Creating pbuilder-satisfydepends-dummy package
Package: pbuilder-satisfydepends-dummy
Version: 0.invalid.0
... (snip) ...
dh_autoreconf -O--buildsystem=cargo
dh_auto_configure -O--buildsystem=cargo
cp: './debian/cargo-checksum.json' ã‚’ stat ã§ãã¾ã›ã‚“: \
ãã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã‚ã‚Šã¾ã›ã‚“
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{cargo-checksum.json?}
\begin{itemize}
 \item RustPackagingTeam
       \begin{itemize}
	\item upstreamã®crateã®ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã‚’å«ã‚ã‚‹
	\item \verb|/usr/share/cargo/registry| ã‚’ä½¿ã†ãŸã‚ã«ä½¿ã†
	      \begin{itemize}
	       \item debã®ãƒ“ãƒ«ãƒ‰ã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½¿ã£ã¡ã‚ƒé§„ç›®ã ã‹ã‚‰ã¨æ€ã‚ã‚Œ
	      \end{itemize}
	\item â†‘ã®ä»•çµ„ã¿ã¯cargo-vendorã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹
	      \begin{itemize}
	       \item cargo-vendorã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚½ãƒ¼ã‚¹ã‚’
		     cargoãŒå¤–éƒ¨crateã¨ã—ã¦æ‰±ã†ãŸã‚ã®ä»•çµ„ã¿ã‚’æä¾›
	      \end{itemize}
       \end{itemize}
 \item ã¨ã‹ã€ã‚ã‚Šã¨ä¸è¦ªåˆ‡ã«æ›¸ã„ã¦ã‚ã‚‹(ä½œã‚Šæ–¹ã®è§£èª¬ã¨ã‹ãªã„)ã‚“ã§ã™ãŒâ€¦â€¦
\end{itemize}
\onslide<2>
\begin{commandline}
% apt source ripgrep
% cat rust-ripgrep-0.10.0/debian/cargo-checksum.json
{"package":"Could not get crate checksum","files":{}}
\end{commandline}
\begin{itemize}
 \item ã„ã£ãŸã‚“ã‚ã™ã‚Œã¾ã™
       \begin{itemize}
	\item ãªã‚“ã¨ã€\verb|touch debian/cargo-checksum.json| ã§ãƒ“ãƒ«ãƒ‰ãŒé€²ã‚€
	\item ã“ã® ``could not get crate checksum''ã¯
	      \href{https://salsa.debian.org/search?utf8=%E2%9C%93&search=Could+not+get+crate+checksum&group_id=&project_id=13127&search_code=true&repository_ref=master}
	      {debcargoã®ã‚¨ãƒ©ãƒ¼}ã¿ãŸã„ã§ã™
       \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ä¾å­˜åœ°ç„ã¨é—‡ã¨ (1/4)}
\begin{itemize}
 \item ãƒ“ãƒ«ãƒ‰ãŒé€²ã‚€ã‚ˆã†ã«ãªã£ãŸã¯ã‚ˆã„ãŒ
\end{itemize}
\begin{commandline}
debian cargo wrapper: running subprocess (['env', 'RUST_BACKTRACE=1', \
'/usr/bin/cargo', '-Zavoid-dev-deps', 'build', '--verbose', '--verbose', \
'-j4', '--target', 'x86_64-unknown-linux-gnu'],) {}
error: failed to select a version for the requirement \
`textwrap = "= 0.10.0"`
candidate versions found which didn't match: 0.11.0
location searched: directory source `/path/to/clap-test/debian/cargo_registry` \
(which is replacing registry `https://github.com/rust-lang/crates.io-index`)
required by package `clap v2.32.0`
\end{commandline}
\begin{itemize}
 \item ä½•æ•…ã‹textwrapã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å•é¡Œã§å¤±æ•—â€¦â€¦
       \begin{itemize}
	\item clapã¯0.10.0ã®textwrapã‚’è¦æ±‚
	\item ç¾åœ¨ã®debian sid/busterã®librust-textwrap-devã¯0.11.0
       \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ä¾å­˜åœ°ç„ã¨é—‡ã¨ (2/4)}
 \begin{itemize}
  \item ã—ã‹ã—ãªãœ? ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”
	\begin{itemize}
	 \item ripgrepã‚‚clapã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã«ãƒ“ãƒ«ãƒ‰ã§ãã¦ã„ã‚‹
	\end{itemize}
  \item githubã®ripgrepã®tarã¨debã®ripgrepã®ã‚½ãƒ¼ã‚¹ã‚’æ¯”è¼ƒã—ã¦ã¿ã‚‹
	\begin{itemize}
	 \item å¾®å¦™ã«å·®åˆ†ãŒã‚ã‚‹â€¦â€¦
	 \item ã©ã†ã‚„ã‚‰ã€crates.ioã‹ã‚‰æŒã£ã¦ãã‚‹ã¨ã€
	       Cargo.tomlãŒç·¨é›†ã•ã‚Œ(Cargo.tomlã«ã‚³ãƒ¡ãƒ³ãƒˆã‚ã‚Š)ã€
	       Cargo.lockãŒå‰Šé™¤ã•ã‚Œã‚‹æ¨¡æ§˜(ã“ã£ã¡ã¯ã‚ã‚„ãµã‚„)
	\end{itemize}
 \end{itemize}
\begin{commandline}
% grep textwrap Cargo.lock
"textwrap 0.10.0 (registry+https://github.com/rust-lang/crates.io-index)",
name = "textwrap"
"checksum textwrap 0.10.0 (registry+https://github.com/rust-lang/crates.io-index)" \
= "307686869c93e71f94da64286f9a9524c0f308a9e1c87a583de8e9c9039ad3f6"
\end{commandline}
\begin{itemize}
 \item ã†ãƒ¼ã‚€â€¦â€¦
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ä¾å­˜åœ°ç„ã¨é—‡ã¨ (3/4)}
\begin{commandline}
% rm Cargo.lock
% debuild-pbuilder
... (snip) ...
Compiling textwrap v0.11.0
Running `rustc --crate-name textwrap....
... (snip) ...
Finished running lintian.
\end{commandline}
\begin{itemize}
 \item ãªã‚“ã¨ã€Cargo.lockã‚’æ¶ˆã—ãŸã‚‰ãƒ“ãƒ«ãƒ‰ã§ãã¦ã—ã¾ã£ãŸâ€¦â€¦
       \begin{itemize}
	\item debian/cargo\_registry ä»¥ä¸‹ã«ä¾å­˜crateã®ãƒ­ãƒ¼ã‚«ãƒ«
       \end{itemize}
\end{itemize}
\begin{commandline}
% ls -lh debian/cargo_registry/textwrap-*
... debian/cargo_registry/textwrap-0.11.0 \
-> /usr/share/cargo/registry/textwrap-0.11.0/
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{ä¾å­˜åœ°ç„ã¨é—‡ã¨ (4/4)}
\begin{itemize}
 \item ã‚ˆãã‚ˆãèª¿ã¹ã¦ã¿ã‚‹ã¨ã€clapã®Cargo.tomlãŒã€
       crates.ioç™»éŒ²æ™‚ã«ä¾å­˜é–¢ä¿‚ãŒå¤‰æ›´ã•ã‚Œã¦ã„ã‚‹æ¨¡æ§˜â€¦â€¦
\end{itemize}
\begin{commandline}
% grep -A 1 dependencies.textwrap debian/cargo_registry/clap-2.32.0/Cargo.toml
[dependencies.textwrap]
version = ">= 0.10, < 0.12"
\end{commandline}
\begin{itemize}
 \item GitHubã«ã‚ã‚‹clapã®ã‚³ãƒ¼ãƒ‰ã ã¨ä»¥ä¸‹
\end{itemize}
\begin{commandline}
[dependencies]
bitflags              = "1.0"
unicode-width         = "0.1.4"
textwrap              = "0.10.0"
\end{commandline}
\begin{itemize}
 \item ã©ã†ã„ã†åŸºæº–ã§å¤‰æ›´ã•ã‚ŒãŸã®ã‹ã¯
       ã¾ã èª¿ã¹ã¦ãŠã‚Šã¾ã›ã‚“â€¦â€¦
       \begin{itemize}
	\item debianã®librust-*ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŸã¡ã¯ã©ã®ã‚ˆã†ãª
	      åŸºæº–ã§æ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã®ã ã‚ã†ã‹â€¦â€¦
       \end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ã¨ã«ã‚‚ã‹ãã«ã‚‚ (1/2)}
\begin{itemize}
 \item debã¯ã§ãã¾ã—ãŸ!!
       \begin{itemize}
	\item ã„ã‚„ã€lintianã®è­¦å‘Šã‚‚ã‚¨ãƒ©ãƒ¼ã‚‚å–ã£ã¦ãªã„ã§ã™ãŒ!!
       \end{itemize}
\end{itemize}
\begin{commandline}
% dpkg -I rust-clap-test_0.1.0-1_amd64.deb
new Debian package, version 2.0.
size 258160 bytes: control archive=648 bytes.
360 ãƒã‚¤ãƒˆã€   11 è¡Œ      control
285 ãƒã‚¤ãƒˆã€    4 è¡Œ      md5sums
Package: rust-clap-test
Version: 0.1.0-1
Architecture: amd64
Maintainer: Katsuki Kobayashi <rare@tirasweel.org>
Installed-Size: 770
Depends: libc6 (>= 2.18), libgcc1 (>= 1:4.2)
Section: unknown
Priority: optional
Homepage: <insert the upstream URL, if relevant>
Description: <insert up to 60 chars description>
<insert long description, indented with spaces>
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{ã¨ã«ã‚‚ã‹ãã«ã‚‚ (2/2)}
\begin{commandline}
% dpkg -c rust-clap-test_0.1.0-1_amd64.deb
drwxr-xr-x root/root         0 2019-03-23 18:06 ./
drwxr-xr-x root/root         0 2019-03-23 18:06 ./usr/
drwxr-xr-x root/root         0 2019-03-23 18:06 ./usr/bin/
-rwxr-xr-x root/root    776600 2019-03-23 18:06 ./usr/bin/clap-test
drwxr-xr-x root/root         0 2019-03-23 18:06 ./usr/share/
drwxr-xr-x root/root         0 2019-03-23 18:06 ./usr/share/doc/
drwxr-xr-x root/root         0 2019-03-23 18:06 ./usr/share/doc/rust-clap-test/
-rw-r--r-- root/root       197 2019-03-23 18:06 ./usr/share/doc/rust-clap-test/README.Debian
-rw-r--r-- root/root       190 2019-03-23 18:06 ./usr/share/doc/rust-clap-test/changelog.Debian.gz
-rw-r--r-- root/root      1693 2019-03-23 18:06 ./usr/share/doc/rust-clap-test/copyright
\end{commandline}
\begin{itemize}
 \item ã‚ã‚Œã ã‘ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§800KBã¡ã‹ãã‹ãâ€¦â€¦
\end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ã¨ã†ã¨ã¤ã«ã¾ã¨ã‚!!}
\begin{itemize}
 \item çµå±€Rustãªdebã‚’ä½œã‚‹ã«ã¯
       \begin{itemize}
	\item crates.ioã«ç™»éŒ²ã—ã¦debcargoã‚’ãƒ™ãƒ¼ã‚¹ã«ã¤ãã‚‹ãŒå…¬å¼æ‰‹æ³•
	\item ä¸€å¿œã€ãƒ­ãƒ¼ã‚«ãƒ«ã§dh-cargoã‚’ã¤ã‹ã£ã¦ã‚‚å¯¾å¿œã¯ã§ããã†
	\item debcargoã‚’gitãƒªãƒã‚¸ãƒˆãƒªã«å¯¾å¿œã•ã›ã¦ã‚‚è‰¯ã•ãã†ã ã‘ã©
	      Cargo.toml/Cargo.lockã¾ã‚ã‚Šã®å•é¡Œã¯ã‚ã‚Š?
       \end{itemize}
 \item ãã‚‚ãã‚‚ä¾å­˜é–¢ä¿‚å¤§ä¸ˆå¤«?
       \begin{itemize}
	\item ä»Šå›ã¯èª¿ã¹ãã‚Œãªã‹ã£ãŸã§ã™ãŒã€debã®librust-*ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¾ã‚ã‚Šã¯
	      çµæ§‹ã‚ã¶ãªã„æ©‹ã‚’æ¸¡ã£ã¦ã„ã‚‹ã‹ã‚‚â€¦â€¦?
	\item ã“ã®ã‚ã„ã (2æœˆ)ã«ripgrepãŒãƒ“ãƒ«ãƒ‰ã§ããªã„ã¨ã„ã†busterã®ãƒã‚°ãŒã‚ã£ãŸã—â€¦â€¦
	      \href{https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=920958}{\#920958}
       \end{itemize}
 \item ãã‚Œã§ã‚‚Rustã¯è‰¯ã„è¨€èª
       \begin{itemize}
	\item å°‘ã€…å­¦ç¿’æ›²ç·šãŒã‚¢ãƒ¬ã ã‘ã©ã€ã“ã‚Œã‹ã‚‰æµè¡Œã£ã¦ã„ãã«é•ã„ãªã„
	\item Debianã§ã‚‚ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒæ´»ç™ºã«ãªã‚Œã°ã‚ˆã„ãªã (ä»–äººäº‹)
	\item ç²›ã€…ã¨debcargoã¯é–‹ç™ºã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã€å…ˆé€±busterã«ã¯å…¥ã‚‰ãªã„ã‘ã©
	      \href{https://alioth-lists.debian.net/pipermail/pkg-rust-maintainers/2019-March/005296.html}
	      {post-installã§testãŒãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚Š}ã—ã¦ã„ã‚‹æ¨¡æ§˜
       \end{itemize}
\end{itemize}
\end{frame}

 \takahashi[50]{ä»¥ä¸Š\\ \vspace*{10pt} \small{ã”é™è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ}}

\begin{frame}[t,fragile]{ã©ã£ã‹ã«æŒ¿å…¥äºˆå®šã®ãƒ¡ãƒ¢}
 \begin{itemize}
  \item Rustã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­ã¯ .rs
	\begin{itemize}
	 \item Rustã§æ›¸ã‹ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å…¬å¼ã‚µã‚¤ãƒˆãŒ \verb|http://xxx.rs| ã§ã‚ã‚‹ã“ã¨ãŒå¤šã„
	 \item å›½åˆ¥ã‚³ãƒ¼ãƒ‰ãƒˆãƒƒãƒ—ãƒ‰ãƒ¡ã‚¤ãƒ³ .rs : ã‚»ãƒ«ãƒ“ã‚¢
	\end{itemize}
  \item \texttt{rust-fmt}ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚‹
	\begin{itemize}
	 \item \texttt{gofmt}ã¨ã‹\texttt{autopep8}ã¨ã‹\texttt{clang-format}çš„ãªãƒ„ãƒ¼ãƒ«
	\end{itemize}
  \item Podcast (Rebuild.fm?) ã§èª°ã‹ãŒè¨€ã£ã¦ãŸ
	\begin{itemize}
	 \item Go: C++ãŒå«Œã„ã§é§†é€ã—ãŸã„
	 \item Rust: C++ãŒå¤§å¥½ãã ã‘ã©è¾›ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„
	\end{itemize}
  \item Rustacean
	\begin{itemize}
	 \item LISPer, Pythonista, Rubyist, Gopher, TeXniciançš„ãª
	 \item ``crustaceans'' : ç”²æ®»é¡
	       \begin{itemize}
		\item ã‚ªãƒ©ã‚¤ãƒªãƒ¼æœ¬ã®è¡¨ç´™ã¯ã‚ªã‚ªãƒ’ãƒ­ãƒã‚ªã‚¦ã‚®ã‚¬ãƒ‹
		\item éå…¬å¼ãªãƒã‚¹ã‚³ãƒƒãƒˆã‚‚ã‚«ãƒ‹ \href{http://rustacean.net/}{(Ferrisã£ã¦ã„ã†æ¨¡æ§˜)}
	       \end{itemize}
	\end{itemize}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ã©ã£ã‹ã«æŒ¿å…¥äºˆå®šã®ãƒ¡ãƒ¢}
 \begin{itemize}
  \item ã¨ã‚Šã‚ãˆãšãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã™ã‚‹ã«ã¯
	\begin{itemize}
	 \item \verb|dh_make| ã‚’å®Ÿè¡Œ
	 \item debian/rulesã®\texttt{dh}ã®å¼•æ•°ã«\verb|--buildsystem cargo|ã‚’è¿½åŠ 
	\end{itemize}
 \end{itemize}
 \begin{commandline}
cp: './debian/cargo-checksum.json' ã‚’ stat ã§ãã¾ã›ã‚“: \
ãã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã‚ã‚Šã¾ã›ã‚“
 \end{commandline}
 \begin{itemize}
  \item ã‚€ã…?
	\begin{itemize}
	 \item \texttt{cargo-vendor}ã§å„crateã®checksumã¯ä½œã‚Œã‚‹ã‘ã©ã€
	       \texttt{main.rs}ãªã‚¢ãƒ—ãƒªã¯ã©ã†ã—ãŸã‚‰?
	\end{itemize}
 \end{itemize}
\end{frame}

\begin{frame}[t,fragile]{ã©ã£ã‹ã«æŒ¿å…¥äºˆå®šã®ãƒ¡ãƒ¢}
\begin{commandline}
debian cargo wrapper: running subprocess (['env', 'RUST_BACKTRACE=1', '/usr/bin/cargo', '-Zavoid-dev-deps', 'build', '--verbose', '--verbose', '-j4', '--target', 'x86_64-unknown-linux-gnu'],) {}
error: no matching package named `hyper` found
\end{commandline}
\end{frame}

\begin{frame}[t,fragile]{ã©ã£ã‹ã«æŒ¿å…¥äºˆå®šã®ãƒ¡ãƒ¢}
 \begin{itemize}
  \item \texttt{debcargo}, \texttt{debcargo-conf}
	\begin{itemize}
	 \item crate.ioã«å­˜åœ¨ã™ã‚‹crateã«ã—ã‹å¯¾å¿œã—ã¦ã„ãªã„æ¨¡æ§˜
	\end{itemize}
 \end{itemize}
\end{frame}

\end{document}